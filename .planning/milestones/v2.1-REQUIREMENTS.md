# Requirements Archive: v2.1 YouTube Transcription

**Archived:** 2026-02-01
**Status:** SHIPPED

This is the archived requirements specification for v2.1.
For current requirements, see `.planning/REQUIREMENTS.md` (created for next milestone).

---

# Requirements: Cesar v2.1

**Defined:** 2026-01-31
**Core Value:** Transcribe audio to text anywhere, offline, with a single command or API call

## v2.1 Requirements

Requirements for YouTube transcription milestone.

### YouTube Integration (Shared Service)

- [x] **YT-01**: `youtube_handler.py` module provides `is_youtube_url()` and `download_youtube_audio()`
- [x] **YT-02**: yt-dlp extracts best quality audio from YouTube video to temp file
- [x] **YT-03**: Temp audio files cleaned up after transcription completes
- [x] **YT-04**: Temp audio files cleaned up on download/transcription failure

### Interface Integration (Uses Shared Service)

- [x] **INT-01**: CLI detects YouTube URLs and calls `youtube_handler.download_youtube_audio()`
- [x] **INT-02**: `file_handler.py` routes YouTube URLs to `youtube_handler` (API path)

### System Validation

- [x] **SYS-01**: FFmpeg presence validated on startup
- [x] **SYS-02**: YouTube jobs rejected with clear error if FFmpeg missing
- [x] **SYS-03**: Health endpoint reports FFmpeg/YouTube support status

### Progress & Feedback

- [x] **UX-01**: CLI shows download progress during YouTube audio extraction
- [x] **UX-02**: API job status includes download phase progress

### Error Handling

- [x] **ERR-01**: Invalid YouTube URLs return clear error message
- [x] **ERR-02**: Private/unavailable videos return clear error message
- [x] **ERR-03**: Network failures during download return clear error message
- [x] **ERR-04**: YouTube rate limiting (403/429) handled with clear error message

## v2.2 Requirements (Deferred)

Acknowledged but deferred to future milestone.

### Output Formats

- **FMT-01**: SRT output format with timestamps
- **FMT-02**: VTT output format with timestamps
- **FMT-03**: `--format` flag for output format selection

### Advanced Features

- **ADV-01**: Batch processing (multiple URLs)
- **ADV-02**: Audio quality selection
- **ADV-03**: Downloaded audio caching for re-transcription

## Out of Scope

| Feature | Reason |
|---------|--------|
| Video download | Audio-only focus, scope creep |
| Playlist auto-expansion | Unclear user intent, complexity |
| Other platforms (Vimeo, etc.) | YouTube only for v2.1 |
| Live stream transcription | Requires streaming architecture |
| Cookie-based authentication | Avoid account ban risk |

## Traceability

| Requirement | Phase | Status |
|-------------|-------|--------|
| YT-01 | Phase 6 | Complete |
| YT-02 | Phase 6 | Complete |
| YT-03 | Phase 6 | Complete |
| YT-04 | Phase 6 | Complete |
| INT-01 | Phase 7 | Complete |
| INT-02 | Phase 7 | Complete |
| SYS-01 | Phase 6 | Complete |
| SYS-02 | Phase 6 | Complete |
| SYS-03 | Phase 7 | Complete |
| UX-01 | Phase 7 | Complete |
| UX-02 | Phase 7 | Complete |
| ERR-01 | Phase 8 | Complete |
| ERR-02 | Phase 8 | Complete |
| ERR-03 | Phase 8 | Complete |
| ERR-04 | Phase 8 | Complete |

**Coverage:**
- v2.1 requirements: 15 total
- Shipped: 15/15 (100%)
- Unmapped: 0

---

## Milestone Summary

**Shipped:** 15 of 15 v2.1 requirements
**Adjusted:** None
**Dropped:** None

---
*Archived: 2026-02-01 as part of v2.1 milestone completion*
