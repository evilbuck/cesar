---
phase: 08-error-handling-docs
plan: 03
type: execute
wave: 2
depends_on: ["08-01"]
files_modified:
  - README.md
autonomous: true

must_haves:
  truths:
    - "README includes YouTube transcription examples for CLI"
    - "README includes YouTube transcription examples for API"
    - "README documents yt-dlp and FFmpeg dependency requirements"
    - "README explains YouTube support limitations and error scenarios"
  artifacts:
    - path: "README.md"
      provides: "YouTube documentation section with examples"
      contains: "YouTube"
  key_links:
    - from: "README.md"
      to: "cesar/youtube_handler.py"
      via: "Documents the user-facing YouTube functionality"
---

<objective>
Add YouTube transcription documentation to README

Purpose: Enable users to discover and use YouTube transcription features with clear examples and dependency information.

Output: README.md updated with YouTube section including CLI examples, API examples, dependency notes (yt-dlp, FFmpeg), and brief error scenario explanations.
</objective>

<execution_context>
@/home/buckleyrobinson/.claude/get-shit-done/workflows/execute-plan.md
@/home/buckleyrobinson/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/08-error-handling-docs/08-CONTEXT.md
@README.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add YouTube Transcription section to README</name>
  <files>README.md</files>
  <action>
Add a "YouTube Transcription" section to README.md. Per CONTEXT.md decisions:
- Quick start example at top, detailed examples follow
- API documentation primary, CLI brief mention
- No troubleshooting section (error messages are self-explanatory)
- Document yt-dlp and FFmpeg requirements

Insert the new section after the "Usage" section and before "HTTP API Server" section. The section should contain:

```markdown
## YouTube Transcription

Cesar v2.1+ supports transcribing YouTube videos directly by URL.

### Quick Start

```bash
# CLI: Transcribe a YouTube video
cesar transcribe "https://youtube.com/watch?v=VIDEO_ID" -o transcript.txt

# API: Submit YouTube URL for transcription
curl -X POST http://localhost:5000/transcribe/url \
  -H "Content-Type: application/json" \
  -d '{"url": "https://youtube.com/watch?v=VIDEO_ID", "model": "base"}'
```

### Requirements

YouTube transcription requires:

- **yt-dlp**: Installed automatically as a Python dependency
- **FFmpeg**: Must be installed as a system binary

Install FFmpeg:
```bash
# macOS
brew install ffmpeg

# Ubuntu/Debian
sudo apt install ffmpeg

# Arch Linux
pacman -S ffmpeg
```

### CLI Usage

```bash
# Basic YouTube transcription
cesar transcribe "https://youtube.com/watch?v=dQw4w9WgXcQ" -o output.txt

# With model selection
cesar transcribe "https://youtu.be/dQw4w9WgXcQ" -o output.txt --model small

# YouTube Shorts
cesar transcribe "https://youtube.com/shorts/abc123" -o output.txt
```

Supported URL formats:
- `https://youtube.com/watch?v=VIDEO_ID`
- `https://youtu.be/VIDEO_ID`
- `https://youtube.com/shorts/VIDEO_ID`

### API Usage

Submit a YouTube URL for background transcription:

```bash
curl -X POST http://localhost:5000/transcribe/url \
  -H "Content-Type: application/json" \
  -d '{"url": "https://youtube.com/watch?v=VIDEO_ID", "model": "base"}'
```

Response (HTTP 202 Accepted):
```json
{
  "id": "550e8400-e29b-41d4-a716-446655440000",
  "status": "downloading",
  "audio_path": "https://youtube.com/watch?v=VIDEO_ID",
  "model_size": "base",
  "download_progress": 0
}
```

Poll job status to track progress:

```bash
curl http://localhost:5000/jobs/550e8400-e29b-41d4-a716-446655440000
```

Job status progression: `downloading` -> `processing` -> `completed`

### Checking YouTube Support

The health endpoint reports YouTube capability:

```bash
curl http://localhost:5000/health
```

```json
{
  "status": "healthy",
  "worker": "running",
  "youtube": {
    "available": true,
    "message": "YouTube transcription supported"
  }
}
```

If FFmpeg is not installed, `youtube.available` will be `false` with an explanatory message.

### Limitations

- **YouTube only**: Other video platforms (Vimeo, etc.) are not supported
- **Public videos**: Private videos and age-restricted content cannot be accessed
- **Rate limiting**: YouTube may temporarily block requests; wait and retry
```

Place this section after "Examples" and before "HTTP API Server".
  </action>
  <verify>grep -q "YouTube Transcription" README.md && grep -q "yt-dlp" README.md && echo "YouTube section added"</verify>
  <done>README includes YouTube section with CLI/API examples, dependency requirements, and limitations</done>
</task>

<task type="auto">
  <name>Task 2: Update Features and System Requirements sections</name>
  <files>README.md</files>
  <action>
Update existing README sections to mention YouTube support:

1. In the **Features** section, add a new bullet point:
   - **YouTube Support**: Transcribe YouTube videos directly by URL (requires FFmpeg)

2. In the **System Requirements** section, update the list to include:
   - **FFmpeg**: Required for YouTube transcription

3. In the **Installation** section under "Install system dependencies", update the note to say:
   FFmpeg is required for audio processing and YouTube transcription.

4. Update the version number in the API server description if present (v2.0 -> v2.1).
  </action>
  <verify>grep -q "YouTube Support" README.md && grep -q "FFmpeg.*YouTube" README.md && echo "Sections updated"</verify>
  <done>Features, System Requirements, and Installation sections updated with YouTube mentions</done>
</task>

</tasks>

<verification>
1. README includes "YouTube Transcription" section with quick start example
2. CLI and API usage examples are present
3. yt-dlp and FFmpeg requirements documented
4. FFmpeg installation commands for macOS, Ubuntu, Arch provided
5. Limitations section explains YouTube-only, public videos, rate limiting
</verification>

<success_criteria>
- [ ] README has "YouTube Transcription" section after Examples
- [ ] Quick start shows both CLI and API examples
- [ ] yt-dlp listed as automatic Python dependency
- [ ] FFmpeg installation commands for macOS/Ubuntu/Arch included
- [ ] Supported URL formats documented
- [ ] API response examples show downloading status and download_progress
- [ ] Limitations section covers YouTube-only, private videos, rate limiting
- [ ] Features section includes YouTube bullet point
- [ ] System Requirements mentions FFmpeg for YouTube
</success_criteria>

<output>
After completion, create `.planning/phases/08-error-handling-docs/08-03-SUMMARY.md`
</output>
